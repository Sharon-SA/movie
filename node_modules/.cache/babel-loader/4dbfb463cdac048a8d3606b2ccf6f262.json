{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, vModelText as _vModelText, withDirectives as _withDirectives, Fragment as _Fragment } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_2 = {\n  class: \"row align-items-center justify-content-center\"\n};\nconst _hoisted_3 = {\n  class: \"col col-12 col-sm-6 col-md-10 col-lg-6\"\n};\nconst _hoisted_4 = {\n  class: \"card\"\n};\n\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"card-header\"\n}, \"Register\", -1\n/* HOISTED */\n);\n\nconst _hoisted_6 = {\n  key: 0,\n  class: \"alert alert-danger\",\n  role: \"alert\"\n};\n\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"p-2\"\n}, null, -1\n/* HOISTED */\n);\n\nconst _hoisted_8 = {\n  class: \"card-body\"\n};\nconst _hoisted_9 = {\n  key: 0,\n  class: \"row align-items-center justify-content-center\"\n};\n\nconst _hoisted_10 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"progress\"\n}, [/*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"progress-bar progress-bar-striped progress-bar-animated\",\n  role: \"progressbar\",\n  \"aria-valuenow\": \"75\",\n  \"aria-valuemin\": \"0\",\n  \"aria-valuemax\": \"100\",\n  style: {\n    \"width\": \"75%\"\n  }\n})], -1\n/* HOISTED */\n);\n\nconst _hoisted_11 = {\n  ref: \"form\"\n};\nconst _hoisted_12 = {\n  class: \"container-fuild\"\n};\nconst _hoisted_13 = {\n  class: \"form-group row justify-content-left py-2\"\n};\n\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"col-4\"\n}, \"Username\", -1\n/* HOISTED */\n);\n\nconst _hoisted_15 = {\n  class: \"col col-8\"\n};\nconst _hoisted_16 = {\n  class: \"form-group row justify-content-end py-2\"\n};\n\nconst _hoisted_17 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"col-4\"\n}, \"Password\", -1\n/* HOISTED */\n);\n\nconst _hoisted_18 = {\n  class: \"col col-8\"\n};\nconst _hoisted_19 = {\n  class: \"form-group row justify-content-left py-2\"\n};\n\nconst _hoisted_20 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"col-4\"\n}, \"Re-enter password\", -1\n/* HOISTED */\n);\n\nconst _hoisted_21 = {\n  class: \"col col-8\"\n};\nconst _hoisted_22 = {\n  class: \"form-group row justify-content-left py-2\"\n};\n\nconst _hoisted_23 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"col-4\"\n}, \"Email\", -1\n/* HOISTED */\n);\n\nconst _hoisted_24 = {\n  class: \"col col-8\"\n};\nconst _hoisted_25 = {\n  class: \"form-group row justify-content-left py-2\"\n};\n\nconst _hoisted_26 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"col-4\"\n}, \"First Name\", -1\n/* HOISTED */\n);\n\nconst _hoisted_27 = {\n  class: \"col col-8\"\n};\nconst _hoisted_28 = {\n  class: \"form-group row justify-content-left py-2\"\n};\n\nconst _hoisted_29 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"col-4\"\n}, \"Last Name\", -1\n/* HOISTED */\n);\n\nconst _hoisted_30 = {\n  class: \"col col-8\"\n};\nconst _hoisted_31 = {\n  class: \"row justify-content-around\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_hoisted_5, _ctx.showMsg === 'error' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, \" Invalid username or password. Please Try again. \")) : _createCommentVNode(\"v-if\", true), _hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_ctx.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [_createCommentVNode(\" Creating the progress bar \"), _hoisted_10])) : (_openBlock(), _createElementBlock(_Fragment, {\n    key: 1\n  }, [_createCommentVNode(\" Input Field Section \"), _createElementVNode(\"form\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _createElementVNode(\"div\", _hoisted_15, [_withDirectives(_createElementVNode(\"input\", {\n    name: \"username\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.credentials.username = $event),\n    type: \"text\",\n    class: \"form-control-sm form-control\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.credentials.username]])])])]), _createElementVNode(\"div\", _hoisted_16, [_hoisted_17, _createElementVNode(\"div\", _hoisted_18, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => _ctx.credentials.password = $event),\n    type: \"password\",\n    class: \"form-control-sm form-control\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.credentials.password]])]), _createElementVNode(\"div\", _hoisted_19, [_hoisted_20, _createElementVNode(\"div\", _hoisted_21, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => _ctx.credentials.password2 = $event),\n    type: \"password\",\n    class: \"form-control-sm form-control\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.credentials.password2]])])]), _createElementVNode(\"div\", _hoisted_22, [_hoisted_23, _createElementVNode(\"div\", _hoisted_24, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[3] || (_cache[3] = $event => _ctx.credentials.email = $event),\n    type: \"email\",\n    class: \"form-control-sm form-control\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.credentials.email]])])]), _createElementVNode(\"div\", _hoisted_25, [_hoisted_26, _createElementVNode(\"div\", _hoisted_27, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => _ctx.credentials.first_name = $event),\n    type: \"text\",\n    class: \"form-control-sm form-control\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.credentials.first_name]])])]), _createElementVNode(\"div\", _hoisted_28, [_hoisted_29, _createElementVNode(\"div\", _hoisted_30, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => _ctx.credentials.last_name = $event),\n    type: \"text\",\n    class: \"form-control-sm form-control\"\n  }, null, 512\n  /* NEED_PATCH */\n  ), [[_vModelText, _ctx.credentials.last_name]])])]), _createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"div\", {\n    type: \"button\",\n    class: \"btn btn-secondary col-6\",\n    onClick: _cache[6] || (_cache[6] = (...args) => _ctx.login && _ctx.login(...args))\n  }, \"Back to Login \"), _createElementVNode(\"div\", {\n    type: \"button\",\n    class: \"btn btn-primary col-4\",\n    onClick: _cache[7] || (_cache[7] = (...args) => $options.register && $options.register(...args))\n  }, \"Register \")])])], 512\n  /* NEED_PATCH */\n  )], 2112\n  /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */\n  ))])])])])]);\n}","map":{"version":3,"mappings":"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","names":["class","_createElementVNode","role","style","ref","_createElementBlock","_hoisted_5","_ctx","_hoisted_7","_createCommentVNode","_hoisted_10","_Fragment","key","_hoisted_14","name","username","$event","type","_hoisted_17","password","_hoisted_20","password2","_hoisted_23","email","_hoisted_26","first_name","_hoisted_29","last_name","onClick","$options"],"sourceRoot":"","sources":["/Users/sharonsotunde-adesina/movie-fe/src/components/Register.vue"],"sourcesContent":["<template>\n    <div class=\"container-fluid\">\n        <div class=\"row align-items-center justify-content-center\">\n            <div class=\"col col-12 col-sm-6 col-md-10 col-lg-6\">\n                <div class=\"card\">\n                    <div class=\"card-header\">Register</div>\n                    <div v-if=\"showMsg === 'error'\" class=\"alert alert-danger\" role=\"alert\">\n                        Invalid username or password. Please Try again.\n                    </div>\n                    <div class=\"p-2\"> </div>\n\n                    <div class=\"card-body\">\n                        <div class=\"row align-items-center justify-content-center\" v-if=\"loading\">\n                            <!-- Creating the progress bar -->\n                            <div class=\"progress\">\n                                <div class=\" \n                            progress-bar progress-bar-striped progress-bar-animated \n                            \" role=\"progressbar\" aria-valuenow=\"75\" aria-valuemin=\"0\" aria-valuemax=\"100\"\n                                    style=\"width: 75%\"></div>\n                            </div>\n                        </div>\n                        <!-- Input Field Section -->\n                        <form v-else ref=\"form\">\n                            <div class=\"container-fuild\">\n\n                                <div class=\"form-group row justify-content-left py-2\">\n                                    <label class=\"col-4\">Username</label>\n                                    <div class=\"col col-8\">\n                                        <input name=\"username\" v-model=\"credentials.username\" type=\"text\"\n                                            class=\"form-control-sm form-control\">\n                                    </div>\n                                </div>\n                            </div>\n                                <div class=\"form-group row justify-content-end py-2\">\n                                    <label class=\"col-4\">Password</label>\n                                    <div class=\"col col-8\">\n                                        <input v-model=\"credentials.password\" type=\"password\"\n                                            class=\"form-control-sm form-control\">\n                                    </div>\n\n                                    <div class=\"form-group row justify-content-left py-2\">\n                                        <label class=\"col-4\">Re-enter password</label>\n                                        <div class=\"col col-8\">\n                                            <input v-model=\"credentials.password2\" type=\"password\"\n                                                class=\"form-control-sm form-control\">\n                                        </div>\n                                    </div>\n                                    <div class=\"form-group row justify-content-left py-2\">\n                                        <label class=\"col-4\">Email</label>\n                                        <div class=\"col col-8\">\n                                            <input v-model=\"credentials.email\" type=\"email\"\n                                                class=\"form-control-sm form-control\">\n                                        </div>\n                                    </div>\n                                    <div class=\"form-group row justify-content-left py-2\">\n                                        <label class=\"col-4\">First Name</label>\n                                        <div class=\"col col-8\">\n                                            <input v-model=\"credentials.first_name\" type=\"text\"\n                                                class=\"form-control-sm form-control\">\n                                        </div>\n                                    </div>\n                                    <div class=\"form-group row justify-content-left py-2\">\n                                        <label class=\"col-4\">Last Name</label>\n                                        <div class=\"col col-8\">\n                                            <input v-model=\"credentials.last_name\" type=\"text\"\n                                                class=\"form-control-sm form-control\">\n                                        </div>\n                                    </div>\n                                    <div class=\"row justify-content-around\">\n                                        <div type=\"button\" class=\"btn btn-secondary col-6\" @click=\"login\">Back to Login\n                                        </div>\n                                        <div type=\"button\" class=\"btn btn-primary col-4\" @click=\"register\">Register\n                                        </div>\n                                    </div>\n                                </div>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n</template>\n\n<script>\n\nimport router from '../router';\nimport { APIService } from '../http/APIService';\nconst apiService = new APIService();\n\nexport default {\n    name: 'Register',\n\n    data: () => ({\n        credentials: {},\n        password: \"\",\n        repassword: \"\",\n        valid: true,\n        showMsg: '',\n        loading: false,\n        rules: {\n            username: [\n                v => !!v || \"Username is required\",\n                v => (v && v.length > 3) || \"A username must be more than 3 characters long\",\n                v => /^[a-z0-9_]+$/.test(v) || \"A username can only contain letters and digits\"\n            ], password: [\n                v => !!v || \"Password is required\",\n                v => (v && v.length > 7) || \"The password must be longer than 7 characters\"\n            ], email: [\n                v => !!v || \"Email is required\"],\n            repassword: [\n                v => (v == this.password) || 'Passwords must match'\n            ]\n        },\n        showPassword: false,\n    }),\n    methods: {\n        register() {\n\n            apiService.registerUser(this.credentials).then(response => {\n                if (response.status === 201) {\n                    this.movie = response.data;\n                    this.showMsg = \"\";\n                    router.push('/auth/');\n                } else {\n                    this.showMsg = \"error\";\n                }\n            }).catch(error => {\n                if (error.response.status === 401) {\n                    router.push(\"/auth\");\n                } else if (error.response.status === 400) {\n                    this.showMsg = \"error\";\n                }\n            });\n        },\n    },\n    computed: {\n        passwordConfirmationRule() {\n            return (this.password === this.repassword) || 'Password must match'\n        }\n    }\n} \n</script>"]},"metadata":{},"sourceType":"module"}