{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport router from '../router';\nimport { APIService } from '../http/APIService';\nconst apiService = new APIService();\nexport default {\n  data() {\n    return {\n      showError: false,\n      movie: {},\n      pageTitle: \"Add New Movie\",\n      isUpdate: false,\n      showMsg: ''\n    };\n  },\n\n  methods: {\n    createMovie() {\n      apiService.addNewMovie(this.movie).then(response => {\n        if (response.status === 201) {\n          this.movie = response.data;\n          this.showMsg = \"\";\n          router.push('/movie-list/new');\n        } else {\n          this.showMsg = \"error\";\n        }\n      }).catch(error => {\n        if (error.response.status === 401) {\n          router.push(\"/auth\");\n        } else if (error.response.status === 400) {\n          this.showMsg = \"error\";\n        }\n      });\n    },\n\n    cancelOperation() {\n      router.push(\"/movie-list\");\n    },\n\n    updateMovie() {\n      apiService.updateMovie(this.movie).then(response => {\n        if (response.status === 200) {\n          this.movie = response.data;\n          router.push('/movie-list/update');\n        } else {\n          this.showMsg = \"error\";\n        }\n      }).catch(error => {\n        if (error.response.status === 401) {\n          router.push(\"/auth\");\n        } else if (error.response.status === 400) {\n          this.showMsg = \"error\";\n        }\n      });\n    }\n\n  },\n\n  mounted() {\n    if (this.$route.params.pk) {\n      this.pageTitle = \"Edit Movie\";\n      this.isUpdate = true;\n      apiService.getMovie(this.$route.params.pk).then(response => {\n        this.movie = response.data;\n      }).catch(error => {\n        if (error.response.status === 401) {\n          router.push(\"/auth\");\n        }\n      });\n    }\n  }\n\n};","map":{"version":3,"mappings":";AAkEA,OAAOA,MAAP,MAAmB,WAAnB;AACA,SAASC,UAAT,QAA2B,oBAA3B;AACA,MAAMC,UAAS,GAAI,IAAID,UAAJ,EAAnB;AAEA,eAAe;EACXE,IAAI,GAAG;IACH,OAAO;MACHC,SAAS,EAAE,KADR;MAEHC,KAAK,EAAE,EAFJ;MAGHC,SAAS,EAAE,eAHR;MAIHC,QAAQ,EAAE,KAJP;MAKHC,OAAO,EAAE;IALN,CAAP;EAOH,CATU;;EAUXC,OAAO,EAAE;IACLC,WAAW,GAAG;MACVR,UAAU,CAACS,WAAX,CAAuB,KAAKN,KAA5B,EAAmCO,IAAnC,CAAwCC,QAAO,IAAK;QAChD,IAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;UACzB,KAAKT,KAAL,GAAaQ,QAAQ,CAACV,IAAtB;UACA,KAAKK,OAAL,GAAe,EAAf;UACAR,MAAM,CAACe,IAAP,CAAY,iBAAZ;QACJ,CAJA,MAIO;UACH,KAAKP,OAAL,GAAe,OAAf;QACJ;MACH,CARD,EAQGQ,KARH,CAQSC,KAAI,IAAK;QACd,IAAIA,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;UAC/Bd,MAAM,CAACe,IAAP,CAAY,OAAZ;QACJ,CAFA,MAEO,IAAIE,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;UACtC,KAAKN,OAAL,GAAe,OAAf;QACJ;MACH,CAdD;IAeH,CAjBI;;IAkBLU,eAAe,GAAG;MACdlB,MAAM,CAACe,IAAP,CAAY,aAAZ;IACH,CApBI;;IAqBLI,WAAW,GAAG;MACVjB,UAAU,CAACiB,WAAX,CAAuB,KAAKd,KAA5B,EAAmCO,IAAnC,CAAwCC,QAAO,IAAK;QAChD,IAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;UACzB,KAAKT,KAAL,GAAaQ,QAAQ,CAACV,IAAtB;UACAH,MAAM,CAACe,IAAP,CAAY,oBAAZ;QACJ,CAHA,MAGO;UACH,KAAKP,OAAL,GAAe,OAAf;QACJ;MACH,CAPD,EAOGQ,KAPH,CAOSC,KAAI,IAAK;QACd,IAAIA,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;UAC/Bd,MAAM,CAACe,IAAP,CAAY,OAAZ;QACJ,CAFA,MAEO,IAAIE,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;UACtC,KAAKN,OAAL,GAAe,OAAf;QACJ;MACH,CAbD;IAcJ;;EApCK,CAVE;;EAgDXY,OAAO,GAAG;IACN,IAAI,KAAKC,MAAL,CAAYC,MAAZ,CAAmBC,EAAvB,EAA2B;MACvB,KAAKjB,SAAL,GAAiB,YAAjB;MACA,KAAKC,QAAL,GAAgB,IAAhB;MACAL,UAAU,CAACsB,QAAX,CACI,KAAKH,MAAL,CAAYC,MAAZ,CAAmBC,EADvB,EAC2BX,IAD3B,CACgCC,QAAO,IAAK;QACpC,KAAKR,KAAL,GAAaQ,QAAQ,CAACV,IAAtB;MACH,CAHL,EAGOa,KAHP,CAGaC,KAAI,IAAK;QACd,IAAIA,KAAK,CAACJ,QAAN,CAAeC,MAAf,KAA0B,GAA9B,EAAmC;UAC/Bd,MAAM,CAACe,IAAP,CAAY,OAAZ;QACJ;MACH,CAPL;IAQJ;EACH;;AA7DU,CAAf","names":["router","APIService","apiService","data","showError","movie","pageTitle","isUpdate","showMsg","methods","createMovie","addNewMovie","then","response","status","push","catch","error","cancelOperation","updateMovie","mounted","$route","params","pk","getMovie"],"sourceRoot":"","sources":["/Users/sharonsotunde-adesina/movie-fe/src/components/MovieCreate.vue"],"sourcesContent":["<template>\n    <div class=\"container-fluid\">\n        <div class=\"row align-items-center justify-content-center\">\n            <div class=\" col align-items-center\">\n                <div class=\"row align-items-center justify-content-center\">\n                    <div class=\"col col-12 col-sm-10 col-md-10 col-lg-6\">\n                        <div class=\"alert alert-danger shadow\" role=\"alert\" v-if=\"showMsg === 'error'\">\n                            Please verify Movie Information\n                        </div>\n                    </div>\n                </div>\n                <div class=\"row align-items-center justify-content-center\">\n                    <div class=\"col col-12 col-sm-10 col-md-10 col-lg-6 align-items-center\">\n                        <div class=\"card\">\n                            <div class=\"card-header\">{{pageTitle}}</div>\n                            <div class=\"card-body\">\n                                <form ref=\"form\">\n                                    <div class=\"container-fluid\">\n                                        <div class=\"form-group row justify-content-around py-2\">\n                                            <label class=\"col-5\">Name</label>\n                                            <div class=\"col col-7\">\n                                                <input v-model=\"movie.name\" type=\"text\"\n                                                    class=\"form-control-sm form-control\">\n                                            </div>\n                                        </div>\n                                        <div class=\"form-group row justify-content-around py-2\">\n                                            <label class=\"col-5\">Description</label>\n                                            <div class=\"col col-7\">\n                                                <input v-model=\"movie.description\" type=\"text\"\n                                                    class=\"form-control-sm form-control\">\n                                            </div>\n                                        </div>\n                                        <div class=\"form-group row justify-content-around py-2\">\n                                            <label class=\"col-5\">Year</label>\n                                            <div class=\"col col-7\">\n                                                <input v-model=\"movie.year\" type=\"text\"\n                                                    class=\"form-control-sm form-control\">\n                                            </div>\n                                        </div>\n                                        <div class=\"form-group row justify-content-around py-2\">\n                                            <label class=\"col-5\">Rating</label>\n                                            <div class=\"col col-7\">\n                                                <input v-model=\"movie.rating\" type=\"text\"\n                                                    class=\"form-control-sm form-control\">\n                                            </div>\n                                        </div>\n                                        <div class=\"row justify-content-around\">\n                                            <div v-if=\"!isUpdate\" type=\"button\" class=\"btn btn-primary col-4\"\n                                                @click=\"createMovie\">Save</div>\n                                            <div v-if=\"isUpdate\" type=\"button\" class=\"btn btn-primary col-4\"\n                                                @click=\"updateMovie\">Update</div>\n                                            <div type=\"button\" class=\"btn btn-secondary col-4\" @click=\"cancelOperation\">\n                                                Cancel</div>\n                                        </div>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template> \n\n<script>\nimport router from '../router';\nimport { APIService } from '../http/APIService';\nconst apiService = new APIService();\n\nexport default {\n    data() {\n        return {\n            showError: false,\n            movie: {},\n            pageTitle: \"Add New Movie\",\n            isUpdate: false,\n            showMsg: '',\n        };\n    },\n    methods: {\n        createMovie() {\n            apiService.addNewMovie(this.movie).then(response => {\n                if (response.status === 201) {\n                    this.movie = response.data;\n                    this.showMsg = \"\";\n                    router.push('/movie-list/new');\n                } else {\n                    this.showMsg = \"error\";\n                }\n            }).catch(error => {\n                if (error.response.status === 401) {\n                    router.push(\"/auth\");\n                } else if (error.response.status === 400) {\n                    this.showMsg = \"error\";\n                }\n            });\n        },\n        cancelOperation() {\n            router.push(\"/movie-list\");\n        },\n        updateMovie() {\n            apiService.updateMovie(this.movie).then(response => {\n                if (response.status === 200) {\n                    this.movie = response.data;\n                    router.push('/movie-list/update');\n                } else {\n                    this.showMsg = \"error\";\n                }\n            }).catch(error => {\n                if (error.response.status === 401) {\n                    router.push(\"/auth\");\n                } else if (error.response.status === 400) {\n                    this.showMsg = \"error\";\n                }\n            });\n        }\n    },\n    mounted() {\n        if (this.$route.params.pk) {\n            this.pageTitle = \"Edit Movie\";\n            this.isUpdate = true;\n            apiService.getMovie(\n                this.$route.params.pk).then(response => {\n                    this.movie = response.data;\n                }).catch(error => {\n                    if (error.response.status === 401) {\n                        router.push(\"/auth\");\n                    }\n                });\n        }\n    },\n}\n</script>\n\n<style>\n\n</style>"]},"metadata":{},"sourceType":"module"}